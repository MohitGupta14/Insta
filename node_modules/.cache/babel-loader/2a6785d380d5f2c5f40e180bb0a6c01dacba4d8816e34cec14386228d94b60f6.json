{"ast":null,"code":"// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\nvar assert = require('assert');\nvar Buffer = require('safer-buffer').Buffer;\nvar ASN1 = require('./types');\nvar errors = require('./errors');\n\n// --- Globals\n\nvar newInvalidAsn1Error = errors.newInvalidAsn1Error;\nvar DEFAULT_OPTS = {\n  size: 1024,\n  growthFactor: 8\n};\n\n// --- Helpers\n\nfunction merge(from, to) {\n  assert.ok(from);\n  assert.equal(typeof from, 'object');\n  assert.ok(to);\n  assert.equal(typeof to, 'object');\n  var keys = Object.getOwnPropertyNames(from);\n  keys.forEach(function (key) {\n    if (to[key]) return;\n    var value = Object.getOwnPropertyDescriptor(from, key);\n    Object.defineProperty(to, key, value);\n  });\n  return to;\n}\n\n// --- API\n\nfunction Writer(options) {\n  options = merge(DEFAULT_OPTS, options || {});\n  this._buf = Buffer.alloc(options.size || 1024);\n  this._size = this._buf.length;\n  this._offset = 0;\n  this._options = options;\n\n  // A list of offsets in the buffer where we need to insert\n  // sequence tag/len pairs.\n  this._seq = [];\n}\nObject.defineProperty(Writer.prototype, 'buffer', {\n  get: function () {\n    if (this._seq.length) throw newInvalidAsn1Error(this._seq.length + ' unended sequence(s)');\n    return this._buf.slice(0, this._offset);\n  }\n});\nWriter.prototype.writeByte = function (b) {\n  if (typeof b !== 'number') throw new TypeError('argument must be a Number');\n  this._ensure(1);\n  this._buf[this._offset++] = b;\n};\nWriter.prototype.writeInt = function (i, tag) {\n  if (typeof i !== 'number') throw new TypeError('argument must be a Number');\n  if (typeof tag !== 'number') tag = ASN1.Integer;\n  var sz = 4;\n  while (((i & 0xff800000) === 0 || (i & 0xff800000) === 0xff800000 >> 0) && sz > 1) {\n    sz--;\n    i <<= 8;\n  }\n  if (sz > 4) throw newInvalidAsn1Error('BER ints cannot be > 0xffffffff');\n  this._ensure(2 + sz);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = sz;\n  while (sz-- > 0) {\n    this._buf[this._offset++] = (i & 0xff000000) >>> 24;\n    i <<= 8;\n  }\n};\nWriter.prototype.writeNull = function () {\n  this.writeByte(ASN1.Null);\n  this.writeByte(0x00);\n};\nWriter.prototype.writeEnumeration = function (i, tag) {\n  if (typeof i !== 'number') throw new TypeError('argument must be a Number');\n  if (typeof tag !== 'number') tag = ASN1.Enumeration;\n  return this.writeInt(i, tag);\n};\nWriter.prototype.writeBoolean = function (b, tag) {\n  if (typeof b !== 'boolean') throw new TypeError('argument must be a Boolean');\n  if (typeof tag !== 'number') tag = ASN1.Boolean;\n  this._ensure(3);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = 0x01;\n  this._buf[this._offset++] = b ? 0xff : 0x00;\n};\nWriter.prototype.writeString = function (s, tag) {\n  if (typeof s !== 'string') throw new TypeError('argument must be a string (was: ' + typeof s + ')');\n  if (typeof tag !== 'number') tag = ASN1.OctetString;\n  var len = Buffer.byteLength(s);\n  this.writeByte(tag);\n  this.writeLength(len);\n  if (len) {\n    this._ensure(len);\n    this._buf.write(s, this._offset);\n    this._offset += len;\n  }\n};\nWriter.prototype.writeBuffer = function (buf, tag) {\n  if (typeof tag !== 'number') throw new TypeError('tag must be a number');\n  if (!Buffer.isBuffer(buf)) throw new TypeError('argument must be a buffer');\n  this.writeByte(tag);\n  this.writeLength(buf.length);\n  this._ensure(buf.length);\n  buf.copy(this._buf, this._offset, 0, buf.length);\n  this._offset += buf.length;\n};\nWriter.prototype.writeStringArray = function (strings) {\n  if (!strings instanceof Array) throw new TypeError('argument must be an Array[String]');\n  var self = this;\n  strings.forEach(function (s) {\n    self.writeString(s);\n  });\n};\n\n// This is really to solve DER cases, but whatever for now\nWriter.prototype.writeOID = function (s, tag) {\n  if (typeof s !== 'string') throw new TypeError('argument must be a string');\n  if (typeof tag !== 'number') tag = ASN1.OID;\n  if (!/^([0-9]+\\.){3,}[0-9]+$/.test(s)) throw new Error('argument is not a valid OID string');\n  function encodeOctet(bytes, octet) {\n    if (octet < 128) {\n      bytes.push(octet);\n    } else if (octet < 16384) {\n      bytes.push(octet >>> 7 | 0x80);\n      bytes.push(octet & 0x7F);\n    } else if (octet < 2097152) {\n      bytes.push(octet >>> 14 | 0x80);\n      bytes.push((octet >>> 7 | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else if (octet < 268435456) {\n      bytes.push(octet >>> 21 | 0x80);\n      bytes.push((octet >>> 14 | 0x80) & 0xFF);\n      bytes.push((octet >>> 7 | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else {\n      bytes.push((octet >>> 28 | 0x80) & 0xFF);\n      bytes.push((octet >>> 21 | 0x80) & 0xFF);\n      bytes.push((octet >>> 14 | 0x80) & 0xFF);\n      bytes.push((octet >>> 7 | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    }\n  }\n  var tmp = s.split('.');\n  var bytes = [];\n  bytes.push(parseInt(tmp[0], 10) * 40 + parseInt(tmp[1], 10));\n  tmp.slice(2).forEach(function (b) {\n    encodeOctet(bytes, parseInt(b, 10));\n  });\n  var self = this;\n  this._ensure(2 + bytes.length);\n  this.writeByte(tag);\n  this.writeLength(bytes.length);\n  bytes.forEach(function (b) {\n    self.writeByte(b);\n  });\n};\nWriter.prototype.writeLength = function (len) {\n  if (typeof len !== 'number') throw new TypeError('argument must be a Number');\n  this._ensure(4);\n  if (len <= 0x7f) {\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xff) {\n    this._buf[this._offset++] = 0x81;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffff) {\n    this._buf[this._offset++] = 0x82;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffffff) {\n    this._buf[this._offset++] = 0x83;\n    this._buf[this._offset++] = len >> 16;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else {\n    throw newInvalidAsn1Error('Length too long (> 4 bytes)');\n  }\n};\nWriter.prototype.startSequence = function (tag) {\n  if (typeof tag !== 'number') tag = ASN1.Sequence | ASN1.Constructor;\n  this.writeByte(tag);\n  this._seq.push(this._offset);\n  this._ensure(3);\n  this._offset += 3;\n};\nWriter.prototype.endSequence = function () {\n  var seq = this._seq.pop();\n  var start = seq + 3;\n  var len = this._offset - start;\n  if (len <= 0x7f) {\n    this._shift(start, len, -2);\n    this._buf[seq] = len;\n  } else if (len <= 0xff) {\n    this._shift(start, len, -1);\n    this._buf[seq] = 0x81;\n    this._buf[seq + 1] = len;\n  } else if (len <= 0xffff) {\n    this._buf[seq] = 0x82;\n    this._buf[seq + 1] = len >> 8;\n    this._buf[seq + 2] = len;\n  } else if (len <= 0xffffff) {\n    this._shift(start, len, 1);\n    this._buf[seq] = 0x83;\n    this._buf[seq + 1] = len >> 16;\n    this._buf[seq + 2] = len >> 8;\n    this._buf[seq + 3] = len;\n  } else {\n    throw newInvalidAsn1Error('Sequence too long');\n  }\n};\nWriter.prototype._shift = function (start, len, shift) {\n  assert.ok(start !== undefined);\n  assert.ok(len !== undefined);\n  assert.ok(shift);\n  this._buf.copy(this._buf, start + shift, start, start + len);\n  this._offset += shift;\n};\nWriter.prototype._ensure = function (len) {\n  assert.ok(len);\n  if (this._size - this._offset < len) {\n    var sz = this._size * this._options.growthFactor;\n    if (sz - this._offset < len) sz += len;\n    var buf = Buffer.alloc(sz);\n    this._buf.copy(buf, 0, 0, this._offset);\n    this._buf = buf;\n    this._size = sz;\n  }\n};\n\n// --- Exported API\n\nmodule.exports = Writer;","map":{"version":3,"names":["assert","require","Buffer","ASN1","errors","newInvalidAsn1Error","DEFAULT_OPTS","size","growthFactor","merge","from","to","ok","equal","keys","Object","getOwnPropertyNames","forEach","key","value","getOwnPropertyDescriptor","defineProperty","Writer","options","_buf","alloc","_size","length","_offset","_options","_seq","prototype","get","slice","writeByte","b","TypeError","_ensure","writeInt","i","tag","Integer","sz","writeNull","Null","writeEnumeration","Enumeration","writeBoolean","Boolean","writeString","s","OctetString","len","byteLength","writeLength","write","writeBuffer","buf","isBuffer","copy","writeStringArray","strings","Array","self","writeOID","OID","test","Error","encodeOctet","bytes","octet","push","tmp","split","parseInt","startSequence","Sequence","Constructor","endSequence","seq","pop","start","_shift","shift","undefined","module","exports"],"sources":["/Users/mohitgupta/Downloads/orgs/Clone/inst/node_modules/asn1/lib/ber/writer.js"],"sourcesContent":["// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\nvar assert = require('assert');\nvar Buffer = require('safer-buffer').Buffer;\nvar ASN1 = require('./types');\nvar errors = require('./errors');\n\n\n// --- Globals\n\nvar newInvalidAsn1Error = errors.newInvalidAsn1Error;\n\nvar DEFAULT_OPTS = {\n  size: 1024,\n  growthFactor: 8\n};\n\n\n// --- Helpers\n\nfunction merge(from, to) {\n  assert.ok(from);\n  assert.equal(typeof (from), 'object');\n  assert.ok(to);\n  assert.equal(typeof (to), 'object');\n\n  var keys = Object.getOwnPropertyNames(from);\n  keys.forEach(function (key) {\n    if (to[key])\n      return;\n\n    var value = Object.getOwnPropertyDescriptor(from, key);\n    Object.defineProperty(to, key, value);\n  });\n\n  return to;\n}\n\n\n\n// --- API\n\nfunction Writer(options) {\n  options = merge(DEFAULT_OPTS, options || {});\n\n  this._buf = Buffer.alloc(options.size || 1024);\n  this._size = this._buf.length;\n  this._offset = 0;\n  this._options = options;\n\n  // A list of offsets in the buffer where we need to insert\n  // sequence tag/len pairs.\n  this._seq = [];\n}\n\nObject.defineProperty(Writer.prototype, 'buffer', {\n  get: function () {\n    if (this._seq.length)\n      throw newInvalidAsn1Error(this._seq.length + ' unended sequence(s)');\n\n    return (this._buf.slice(0, this._offset));\n  }\n});\n\nWriter.prototype.writeByte = function (b) {\n  if (typeof (b) !== 'number')\n    throw new TypeError('argument must be a Number');\n\n  this._ensure(1);\n  this._buf[this._offset++] = b;\n};\n\n\nWriter.prototype.writeInt = function (i, tag) {\n  if (typeof (i) !== 'number')\n    throw new TypeError('argument must be a Number');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Integer;\n\n  var sz = 4;\n\n  while ((((i & 0xff800000) === 0) || ((i & 0xff800000) === 0xff800000 >> 0)) &&\n        (sz > 1)) {\n    sz--;\n    i <<= 8;\n  }\n\n  if (sz > 4)\n    throw newInvalidAsn1Error('BER ints cannot be > 0xffffffff');\n\n  this._ensure(2 + sz);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = sz;\n\n  while (sz-- > 0) {\n    this._buf[this._offset++] = ((i & 0xff000000) >>> 24);\n    i <<= 8;\n  }\n\n};\n\n\nWriter.prototype.writeNull = function () {\n  this.writeByte(ASN1.Null);\n  this.writeByte(0x00);\n};\n\n\nWriter.prototype.writeEnumeration = function (i, tag) {\n  if (typeof (i) !== 'number')\n    throw new TypeError('argument must be a Number');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Enumeration;\n\n  return this.writeInt(i, tag);\n};\n\n\nWriter.prototype.writeBoolean = function (b, tag) {\n  if (typeof (b) !== 'boolean')\n    throw new TypeError('argument must be a Boolean');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Boolean;\n\n  this._ensure(3);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = 0x01;\n  this._buf[this._offset++] = b ? 0xff : 0x00;\n};\n\n\nWriter.prototype.writeString = function (s, tag) {\n  if (typeof (s) !== 'string')\n    throw new TypeError('argument must be a string (was: ' + typeof (s) + ')');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.OctetString;\n\n  var len = Buffer.byteLength(s);\n  this.writeByte(tag);\n  this.writeLength(len);\n  if (len) {\n    this._ensure(len);\n    this._buf.write(s, this._offset);\n    this._offset += len;\n  }\n};\n\n\nWriter.prototype.writeBuffer = function (buf, tag) {\n  if (typeof (tag) !== 'number')\n    throw new TypeError('tag must be a number');\n  if (!Buffer.isBuffer(buf))\n    throw new TypeError('argument must be a buffer');\n\n  this.writeByte(tag);\n  this.writeLength(buf.length);\n  this._ensure(buf.length);\n  buf.copy(this._buf, this._offset, 0, buf.length);\n  this._offset += buf.length;\n};\n\n\nWriter.prototype.writeStringArray = function (strings) {\n  if ((!strings instanceof Array))\n    throw new TypeError('argument must be an Array[String]');\n\n  var self = this;\n  strings.forEach(function (s) {\n    self.writeString(s);\n  });\n};\n\n// This is really to solve DER cases, but whatever for now\nWriter.prototype.writeOID = function (s, tag) {\n  if (typeof (s) !== 'string')\n    throw new TypeError('argument must be a string');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.OID;\n\n  if (!/^([0-9]+\\.){3,}[0-9]+$/.test(s))\n    throw new Error('argument is not a valid OID string');\n\n  function encodeOctet(bytes, octet) {\n    if (octet < 128) {\n        bytes.push(octet);\n    } else if (octet < 16384) {\n        bytes.push((octet >>> 7) | 0x80);\n        bytes.push(octet & 0x7F);\n    } else if (octet < 2097152) {\n      bytes.push((octet >>> 14) | 0x80);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else if (octet < 268435456) {\n      bytes.push((octet >>> 21) | 0x80);\n      bytes.push(((octet >>> 14) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else {\n      bytes.push(((octet >>> 28) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 21) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 14) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    }\n  }\n\n  var tmp = s.split('.');\n  var bytes = [];\n  bytes.push(parseInt(tmp[0], 10) * 40 + parseInt(tmp[1], 10));\n  tmp.slice(2).forEach(function (b) {\n    encodeOctet(bytes, parseInt(b, 10));\n  });\n\n  var self = this;\n  this._ensure(2 + bytes.length);\n  this.writeByte(tag);\n  this.writeLength(bytes.length);\n  bytes.forEach(function (b) {\n    self.writeByte(b);\n  });\n};\n\n\nWriter.prototype.writeLength = function (len) {\n  if (typeof (len) !== 'number')\n    throw new TypeError('argument must be a Number');\n\n  this._ensure(4);\n\n  if (len <= 0x7f) {\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xff) {\n    this._buf[this._offset++] = 0x81;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffff) {\n    this._buf[this._offset++] = 0x82;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffffff) {\n    this._buf[this._offset++] = 0x83;\n    this._buf[this._offset++] = len >> 16;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else {\n    throw newInvalidAsn1Error('Length too long (> 4 bytes)');\n  }\n};\n\nWriter.prototype.startSequence = function (tag) {\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Sequence | ASN1.Constructor;\n\n  this.writeByte(tag);\n  this._seq.push(this._offset);\n  this._ensure(3);\n  this._offset += 3;\n};\n\n\nWriter.prototype.endSequence = function () {\n  var seq = this._seq.pop();\n  var start = seq + 3;\n  var len = this._offset - start;\n\n  if (len <= 0x7f) {\n    this._shift(start, len, -2);\n    this._buf[seq] = len;\n  } else if (len <= 0xff) {\n    this._shift(start, len, -1);\n    this._buf[seq] = 0x81;\n    this._buf[seq + 1] = len;\n  } else if (len <= 0xffff) {\n    this._buf[seq] = 0x82;\n    this._buf[seq + 1] = len >> 8;\n    this._buf[seq + 2] = len;\n  } else if (len <= 0xffffff) {\n    this._shift(start, len, 1);\n    this._buf[seq] = 0x83;\n    this._buf[seq + 1] = len >> 16;\n    this._buf[seq + 2] = len >> 8;\n    this._buf[seq + 3] = len;\n  } else {\n    throw newInvalidAsn1Error('Sequence too long');\n  }\n};\n\n\nWriter.prototype._shift = function (start, len, shift) {\n  assert.ok(start !== undefined);\n  assert.ok(len !== undefined);\n  assert.ok(shift);\n\n  this._buf.copy(this._buf, start + shift, start, start + len);\n  this._offset += shift;\n};\n\nWriter.prototype._ensure = function (len) {\n  assert.ok(len);\n\n  if (this._size - this._offset < len) {\n    var sz = this._size * this._options.growthFactor;\n    if (sz - this._offset < len)\n      sz += len;\n\n    var buf = Buffer.alloc(sz);\n\n    this._buf.copy(buf, 0, 0, this._offset);\n    this._buf = buf;\n    this._size = sz;\n  }\n};\n\n\n\n// --- Exported API\n\nmodule.exports = Writer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}